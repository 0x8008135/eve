syntax = "proto3";

option java_package = "com.zededa.cloud.uservice.proto";
option go_package = "github.com/zededa/api/zconfig";

// import "fw.proto";
message ipRange {
	string start = 1;
	string end = 2;
}

message ipv4spec {
	bool   dhcp = 2;

	// subnet is CIDR format...x.y.z.l/nn
	string subnet = 3;
	string gateway = 5;
	string domain = 6;
	string ntp = 7;
	repeated string dns = 8;

	// for IPAM management when dhcp is turned on.
	// If none provided, system will default pool.
	string ipRange = 9;
}

message ipv6spec {
	bool   dhcp = 2;

	// subnet is CIDR format...x.y.z.l/nn
	string subnet = 3;
	string gateway = 5;
	string domain = 6;
	string ntp = 7;;
	repeated string dns = 8;

	// for IPAM management when dhcp is turned on.
	// If none provided, system will default pool.
	string ipRange = 9;
}

// FIXME: This will all move to network service rather than lispspec in 
// network common
message NameToEid {
	string hostname = 1;
	repeated string eids = 2;
}

message EIDAllocation {
	bool allocate = 1;
	bool exportprivate = 2;
	bytes allocationprefix = 3;
	uint32 allocationprefixlen = 4;
}
message lispspec {
	uint32 iid = 1;
	EIDAllocation eidalloc = 2;

	repeated NameToEid nmtoeid = 3;
}

enum NetworkType {
	NETWORKTYPENOOP = 0;
	V4 = 4;
	V6 = 6;
	LISP = 10;
}
